<!DOCTYPE HTML>
<html>
  <!-- Michael G. Rodecker
       October 24, 2012
       Introduction to Programming
       Project 3 Codename: "Awesome-sauce" -->
  <head>
      <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
      <meta name="author" content="Michael G. Rodecker" />
      <title>Apocalypse! on the Hudson</title>
      <style>
          body     {background: black;}
          h1       {font-family: monospace; color: darkgreen;}
          h2       {font-family: monospace; color: white;}
          p        {font-family: Monospace; background-color: black; color: white;
                    width: 600pt; height: 150pt; border-color: black; font-size: 130%;}
          textarea {font-family: Monospace; background-color: black; color: darkgreen;
                    border: none; font-size: 130%; padding: 10px; font-size: 13.5pt;}
          textCommand {font-family: monospace; color: white;}
      </style>
      <script type="text/JavaScript">
      
      var score  = 0;
      // Direction constants used in the move function and 
      // the button-click even handlers
      var north  = false; 
      var south  = false;
      var east   = false;
      var west   = false;
      var clear  = ""; 
      
      var cannotGo = "You cannot go that way!";
      var myLocation = 0;
     
      function increment_score() {
        score = score + 5;
      }
      // this shows the score to the user
      function get_score() {
        updateDisplay("Your score is " + score);
        // alert(score);
        
      }
      // this updates the textarea 
      function updateDisplay(message) {
         message = message + " [" + myLocation + "]";
         var ta = document.getElementById("taGame");
         ta.value = ">:" + " " + message + "\n" + ta.value;
         
      }
      
      // when user types "clear" textarea is...well, cleared.
      function clearTextArea() {
         var textArea = document.getElementById("taGame");
         textArea.value = ">: " + "";
      }
      
      function north_btn() {
        var message = "You see nothing but water and trees.";
        var messageTwo = "This is the second message for NORTH.";
         // alert(message);
            if (north===false) {
              myLocation = 1;
              updateDisplay(message);
              increment_score();
              north = true;
              } else if (myLocation===1) {
                myLocation = 5;
                updateDisplay(messageTwo);
                increment_score(); 
                north = true;
                } else if (north===true) {
                  updateDisplay(cannotGo);
                  }
      }    
      
      function south_btn() {
        var message = "You see nothing but water and trees. There's definitely nothing this way.";
        var messageTwo = "Seriously dude, there's nothing over here.";
        // alert(message);
            if (south===false) {
              myLocation = 3;
              updateDisplay(message);
              increment_score();
              south = true;
              } else if (myLocation===3 && south===true) {
                  myLocation = 6;
                  updateDisplay(messageTwo);
                  increment_score();
                  south = true;
                } else if (south===true) {
                    updateDisplay(cannotGo);
                  }
      }
      
      function east_btn() {
        var message = "There is a big forested hill which will take about 2 days to hack though. You should probably go another way.";
        // alert(message);
            if (east===false) {
              myLocation = 2;
              updateDisplay(message);
              increment_score();
              east = true;
            } else if (east===true) {
               updateDisplay(cannotGo);
            }
      }
      
      function west_btn() {
        var message = "To go this way you will have to swim across the Hudson. And let's be honest, you're not physically fit enough to do it...";
        // alert(message);
            if (west===false) {
              myLocation = 4;
              updateDisplay(message);
              increment_score();
              west = true;
              } else if (west===true) {
                  updateDisplay(cannotGo);
                } 
      }
      
      function invalid_response() {
        var message = "I do not understand that command.";
        updateDisplay(message);
      }
      
      
      function btn_enter_click() {
        var txt = document.getElementById("txtCommand");
        //alert(txt.value);
        updateDisplay(txt.value);
        if (txt.value==="N" || txt.value==="n") {
            north_btn();
          } else if (txt.value==="S" || txt.value==="s") {
            south_btn();
          } else if (txt.value==="E" || txt.value==="e") {
            east_btn();   
          } else if (txt.value==="W" || txt.value==="w") {
            west_btn();
          } else if (txt.value==="Score" || txt.value==="score") {
            get_score();
          } else if (txt.value==="Clear" || txt.value==="clear") {
            clearTextArea();
          } else {  
            invalid_response();
          } 
          
        txt.value="";
        // need if statement for when an empty
        // string is input for it to not submit
        // anything to the display.
      }
      
      
      </script>
  </head>
  <body> 
      <h1>Michael Rodecker's: 
      <br>
          Apocalypse! on the Hudson: The Search for Booch's Breeches
      <br>
          version 0.6</h1>
      <br>
      

      <textarea id="taGame" rows="12" cols="85">>: You are on the East bank of the Hudson River. There is a small fox nearby. [0]  
      </textarea>
      
      <br>
      <h2>Enter Command:</h2>
      <input type="text" 
             id="txtCommand" 
             onKeydown="if (event.keyCode==13) btn_enter_click();"
             placeholder="Enter Text Here..."
             maxlength="20">
      
      <input type="button"
             value="Enter"
             onclick="btn_enter_click()">
             
      <br>
      
      <input type="button"
             value="North"
             onclick="north_btn();"
             id="northBtn";>
             
      <input type="button"
             value="South"
             onclick="south_btn();"
             id="southBtn";>
             
      <input type="button"
             value="East"
             onclick="east_btn();"
             id="eastBtn";>
             
      <input type="button"
             value="West"
             onclick="west_btn();"
             id="westBtn";>
     
      <br>
      <br>
      <input type="button"
             value="Score"
             onclick="get_score();">
      
     <p class="fullname">
        Michael G. Rodecker
        <br>
        <a href="mailto:michael.rodecker1@marist.edu">Send me an email!</a> 
     </p>
  </body>
  



</html>